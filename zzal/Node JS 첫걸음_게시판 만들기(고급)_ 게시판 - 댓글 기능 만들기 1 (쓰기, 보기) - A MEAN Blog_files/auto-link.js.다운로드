var autoLink = {};
autoLink.links = {
  tm_ko: {
    'Text Game Maker JS':'/ko/blog/Text-Game-Maker-JS/_/Text-Game-Maker-JS',
    '클라스':'/ko/blog/토막글/_/자바스크립트-ES5에서-Class의-생성과-상속',
    '인스턴스':'/ko/blog/토막글/_/자바스크립트-ES5에서-Class의-생성과-상속',
    '상속':'/ko/blog/토막글/_/자바스크립트-ES5에서-Class의-생성과-상속',
    '생성자':'/ko/blog/토막글/_/자바스크립트-ES5에서-Class의-생성과-상속',
    '브라우저 콘솔':'/ko/blog/토막글/_/웹-브라우저에서-콘솔-열기',
    'TM.defaultSettings.screen':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings#TM-defaultSettings-screen',
    'TM.defaultSettings.charGroups':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings#TM-defaultSettings-charGroups',
    'TM.defaultSettings.debug':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings#TM-defaultSettings-debug',
    'TM.defaultSettings':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings',
    'TM.common':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-common',
    'TM.IObject':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-IObject',
    'TM.ILoopObject':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-ILoopObject',
    'TM.Interval':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-Interval',
    'TM.IProgram':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-IProgram',
    'TM.ScreenManager_Cursor':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-ScreenManager_Cursor',
    'TM.ScreenManager_Char':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-ScreenManager_Char',
    'TM.ScreenManager':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-ScreenManager',
    'TM.InputManager_Keyboard':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-InputManager_Keyboard',
    'TM.InputManager':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-InputManager',
    'TM.DebugManager':'/ko/blog/Text-Game-Maker-JS/Documentations/TM-DebugManager',
    'debug-manager-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/debug-manager-tutorial.js',
    'game-tutorial-oop1.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop1.js',
    'game-tutorial-oop2.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop2.js',
    'game-tutorial-oop3.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop3.js',
    'game-tutorial-oop4.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop4.js',
    'game-tutorial-oop5.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop5.js',
    'game-tutorial1.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial1.js',
    'game-tutorial2.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial2.js',
    'game-tutorial3.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial3.js',
    'game-tutorial4.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial4.js',
    'game-tutorial5.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial5.js',
    'i-loop-object-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/i-loop-object-tutorial.js',
    'i-object-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/i-object-tutorial.js',
    'i-program-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/i-program-tutorial.js',
    'input-manager_keyboard-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/input-manager_keyboard-tutorial.js',
    'interval-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/interval-tutorial.js',
    'screen-manager_cursor-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/screen-manager_cursor-tutorial.js',
    'screen-manager-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/screen-manager-tutorial.js',
  },
  tm_en: {
    'Text Game Maker JS':'/en/blog/Text-Game-Maker-JS/_/Text-Game-Maker-JS',
    'class[\\w]*':'/en/blog/Game-Project-Misc-Docs/_/Class-and-Inheritance-in-Javascript-ES5',
    'instance[\\w]*':'/en/blog/Game-Project-Misc-Docs/_/Class-and-Inheritance-in-Javascript-ES5',
    'extend[\\w]*':'/en/blog/Game-Project-Misc-Docs/_/Class-and-Inheritance-in-Javascript-ES5',
    'constructor[\\w]*':'/en/blog/Game-Project-Misc-Docs/_/Class-and-Inheritance-in-Javascript-ES5',
    'browser console':'/en/blog/Game-Project-Misc-Docs/_/Web-Browser-Console',
    'TM.defaultSettings.screen':'/en/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings#TM-defaultSettings-screen',
    'TM.defaultSettings.charGroups':'/en/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings#TM-defaultSettings-charGroups',
    'TM.defaultSettings.debug':'/en/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings#TM-defaultSettings-debug',
    'TM.defaultSettings':'/en/blog/Text-Game-Maker-JS/Documentations/TM-defaultSettings',
    'TM.common':'/en/blog/Text-Game-Maker-JS/Documentations/TM-common',
    'TM.IObject':'/en/blog/Text-Game-Maker-JS/Documentations/TM-IObject',
    'TM.ILoopObject':'/en/blog/Text-Game-Maker-JS/Documentations/TM-ILoopObject',
    'TM.Interval':'/en/blog/Text-Game-Maker-JS/Documentations/TM-Interval',
    'TM.IProgram':'/en/blog/Text-Game-Maker-JS/Documentations/TM-IProgram',
    'TM.ScreenManager_Cursor':'/en/blog/Text-Game-Maker-JS/Documentations/TM-ScreenManager_Cursor',
    'TM.ScreenManager_Char':'/en/blog/Text-Game-Maker-JS/Documentations/TM-ScreenManager_Char',
    'TM.ScreenManager':'/en/blog/Text-Game-Maker-JS/Documentations/TM-ScreenManager',
    'TM.InputManager_Keyboard':'/en/blog/Text-Game-Maker-JS/Documentations/TM-InputManager_Keyboard',
    'TM.InputManager':'/en/blog/Text-Game-Maker-JS/Documentations/TM-InputManager',
    'TM.DebugManager':'/en/blog/Text-Game-Maker-JS/Documentations/TM-DebugManager',
    'debug-manager-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/debug-manager-tutorial.js',
    'game-tutorial-oop1.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop1.js',
    'game-tutorial-oop2.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop2.js',
    'game-tutorial-oop3.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop3.js',
    'game-tutorial-oop4.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop4.js',
    'game-tutorial-oop5.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial-oop5.js',
    'game-tutorial1.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial1.js',
    'game-tutorial2.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial2.js',
    'game-tutorial3.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial3.js',
    'game-tutorial4.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial4.js',
    'game-tutorial5.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/game-tutorial5.js',
    'i-loop-object-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/i-loop-object-tutorial.js',
    'i-object-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/i-object-tutorial.js',
    'i-program-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/i-program-tutorial.js',
    'input-manager_keyboard-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/input-manager_keyboard-tutorial.js',
    'interval-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/interval-tutorial.js',
    'screen-manager_cursor-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/screen-manager_cursor-tutorial.js',
    'screen-manager-tutorial.js': 'https://github.com/a-mean-blogger/text-game-maker-js/blob/master/tutorials/screen-manager-tutorial.js',
  },

};
autoLink.replace = function(target, linkset){
  var $target = $(target);
  var html = $target.html();
  var $autoLink = $('#autoLink');

  var links = {}
  for(var key in autoLink.links[linkset]){
    links[key] = autoLink.links[linkset][key];
  }
  var exceptions = [];
  var exceptionData = $autoLink.data("exceptions");

  if(exceptionData){
    exceptions = exceptionData.split(',');
  }

  for(var exception in exceptions){
    delete links[exceptions[exception]];
  }

  for(var keyword in links){
    var trimedKeyword = keyword.replace(/\./g,'\\.').trim();
    // console.log(trimedKeyword);
    var regex = new RegExp('(<[^a][^>]*>)(([^<](?!'+trimedKeyword+'))*(.?))('+trimedKeyword+')','gi');
    html = html.replace(regex, '$1$2<a href="'+links[keyword]+'" target="_blank">$5</a>');
  }
  $target.html(html);
}
